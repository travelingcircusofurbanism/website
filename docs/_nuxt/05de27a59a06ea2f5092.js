(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{210:function(t,e,a){"use strict";var n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer"},[e("p",{staticClass:"images"},[e("a",{attrs:{href:"mailto:travelingcircusofurbanism@gmail.com"}},[e("img",{staticStyle:{"padding-top":"4px"},attrs:{src:a(213),width:"26px",height:"26px"}})]),this._v(" "),e("a",{attrs:{href:"https://www.instagram.com/mariko_urbannomad/",target:"_blank"}},[e("img",{attrs:{src:a(214),width:"22px",height:"22px"}})]),this._v(" "),e("a",{attrs:{href:"https://www.facebook.com/travelingcircusofurbanism/",target:"_blank"}},[e("img",{attrs:{src:a(215),width:"20px",height:"20px"}})]),this._v(" "),e("a",{attrs:{href:"https://www.travelingcircusofurbanism.com/feed.xml",target:"_blank"}},[e("img",{attrs:{src:a(216),width:"20px",height:"20px"}})])]),this._v(" "),e("p",{staticClass:"footertext"},[this._v("\n    All content copyright Mariko Sugita, except where noted.\n    "),e("br"),this._v(" "),e("a",{attrs:{href:"mailto:travelingcircusofurbanism@gmail.com"}},[this._v("Get in touch!")])])])}],s=a(1);var i=function(t){a(211)},o=Object(s.a)(null,function(){this.$createElement;this._self._c;return this._m(0)},n,!1,i,"data-v-997066da",null);e.a=o.exports},211:function(t,e,a){var n=a(212);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(5).default)("cbd24d0c",n,!0,{})},212:function(t,e,a){(t.exports=a(4)(!1)).push([t.i,"\n.footer[data-v-997066da] {\n  grid-column: 1 / -1;\n  margin: -48px;\n  margin-top: 96px;\n  color: rgba(255, 255, 255, 0.6);\n  background: #1f1f1f;\n  padding: 48px;\n  box-shadow: 0 5000vh 0 5000vh #1f1f1f;\n}\n.footer *[data-v-997066da] {\n    text-align: center;\n}\n@media (max-width: 768px) {\n.footer[data-v-997066da] {\n      margin: -18px;\n      margin-top: 36px;\n      padding: 18px;\n}\n}\n.footer .images > *[data-v-997066da] {\n    opacity: 0.7;\n    padding: 10px;\n    transition: all 0.2s;\n}\n.footer .images > *[data-v-997066da]:hover {\n      opacity: 1;\n}\n.footer .footertext[data-v-997066da] {\n    opacity: 0.8;\n}\n",""])},213:function(t,e,a){t.exports=a.p+"img/1135b2b.svg"},214:function(t,e,a){t.exports=a.p+"img/6aba930.svg"},215:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDU2cHgiIGhlaWdodD0iNDU2cHgiIHZpZXdCb3g9IjAgMCA0NTYgNDU2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0My4xICgzOTAxMikgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+ZmFjZWJvb2s8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iZmFjZWJvb2siIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0iI0ZGRkZGRiI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0wLDAgTDAsNDU1LjczIEwyNDIuNzA0LDQ1NS43MyBMMjQyLjcwNCwyNzkuNjkxIEwxODMuMzc0LDI3OS42OTEgTDE4My4zNzQsMjA3LjgyNyBMMjQyLjcwNCwyMDcuODI3IEwyNDIuNzA0LDE0Ny40NzQgQzI0Mi43MDQsMTAzLjU4MSAyNzguMjg2LDY3Ljk5OSAzMjIuMTc5LDY3Ljk5OSBMMzg0LjIwNCw2Ny45OTkgTDM4NC4yMDQsMTMyLjYyMSBMMzM5LjgyMiwxMzIuNjIxIEMzMjUuODc1LDEzMi42MjEgMzE0LjU2OCwxNDMuOTI4IDMxNC41NjgsMTU3Ljg3NSBMMzE0LjU2OCwyMDcuODI4IEwzODMuMDg5LDIwNy44MjggTDM3My42MTksMjc5LjY5MiBMMzE0LjU2OCwyNzkuNjkyIEwzMTQuNTY4LDQ1NS43MyBMNDU1LjczLDQ1NS43MyBMNDU1LjczLDAgTDAsMCBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},216:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMC8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy1TVkctMjAwMTA5MDQvRFREL3N2ZzEwLmR0ZCI+PHN2ZyB2ZXJzaW9uPSIxLjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgOTguOTE4IDEwMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgOTguOTE4IDEwMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGcgZmlsbD0id2hpdGUiPjxlbGxpcHNlIGN4PSIxMy41NjYiIGN5PSI4Ni4yODYiIHJ4PSIxMy41NjYiIHJ5PSIxMy43MTQiPjwvZWxsaXBzZT48cGF0aCBkPSJNNjUuNTY5LDEwMEg0Ni4zNWMwLTI1Ljg3OS0yMC43NTItNDYuODU4LTQ2LjM1LTQ2Ljg1OGwwLDBWMzMuNzE1QzM2LjIxNCwzMy43MTUsNjUuNTY5LDYzLjM5MSw2NS41NjksMTAweiI+PC9wYXRoPjxwYXRoIGQ9Ik03OS4xMzUsMTAwYzAtNDQuMTgzLTM1LjQyOS04MC03OS4xMzUtODBWMGM1NC42MzEsMCw5OC45MTgsNDQuNzcyLDk4LjkxOCwxMDBINzkuMTM1eiI+PC9wYXRoPjwvZz48L3N2Zz4="},217:function(t,e,a){var n=a(218);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(5).default)("8fc49d28",n,!0,{})},218:function(t,e,a){(t.exports=a(4)(!1)).push([t.i,"\n.breadcrumb[data-v-2e2fba46] {\n  background: #f7f6f3;\n  padding: 0;\n  width: 50vw;\n  white-space: nowrap;\n  position: relative;\n  border-bottom: 1px solid rgba(224, 223, 214, 0.5);\n  font-size: 0.9em;\n  position: relative;\n  z-index: 3;\n  overflow: hidden;\n}\n.breadcrumb > *[data-v-2e2fba46] {\n    z-index: 1;\n}\n.breadcrumb[data-v-2e2fba46]:after {\n    content: '';\n    pointer-events: none;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    top: 0;\n    left: 0;\n    background-image: linear-gradient(to right, rgba(247, 246, 243, 0) 90%, #f7f6f3 99.5%);\n    z-index: 2;\n}\n.crumb[data-v-2e2fba46] {\n  transition: all 0.2s;\n  color: #5e5e5e !important;\n  position: relative;\n  margin: 0;\n  padding: 12px 24px;\n  color: #1f1f1f;\n  text-decoration: none;\n  display: inline-block;\n}\n.crumb[data-v-2e2fba46]:hover {\n    color: #1f1f1f !important;\n}\n.crumb[data-v-2e2fba46]:first-of-type {\n    padding-left: 96px;\n    margin-left: -48px;\n}\n.crumb > *[data-v-2e2fba46] {\n    position: relative;\n    z-index: 4;\n    white-space: nowrap;\n}\n.crumb[data-v-2e2fba46]:before {\n    transition: all 0.2s;\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    transform: skew(-25deg);\n    border-right: 1px solid rgba(224, 223, 214, 0.7);\n    z-index: 3;\n}\n.crumb[data-v-2e2fba46]:last-of-type:before {\n    border-right: none;\n}\n.crumb[data-v-2e2fba46]:hover::before {\n    background: #f1efea !important;\n    z-index: 4;\n    box-shadow: 0px 2px 10px #cec8b6 !important;\n}\n",""])},219:function(t,e,a){"use strict";const{capitalize:n,softTruncate:s}=a(21);var i={props:{title:{required:!1}},computed:{isMobile(){return this.$store.state.isMobile},pathEls(){const t=this.$nuxt.$route.path.substring(1),e=[{label:"Home",url:"/"}];let a=t.substring(0,t.indexOf("/")),n=t.substring(t.indexOf("/")+1),s="";return"is"===a||"at"===a?s=a+": ":"tag"===a?s="#":""!==a&&e.push({label:this.capitalize(decodeURI(a)),url:`/${a}`}),e.push({label:this.title?this.capitalize(this.softTruncate(this.title,70)):`${s||""}${this.capitalize(decodeURI(n.replace(/\/$/,"")))}`,url:`/${t}`}),e}},methods:{capitalize:n,softTruncate:s}},o=a(1);var r=function(t){a(217)},l=Object(o.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return!1===t.isMobile?a("div",{staticClass:"breadcrumb content-top-full"},t._l(t.pathEls,function(e,n){return a("nuxt-link",{key:n,staticClass:"crumb",class:(n===t.pathEls.length-1?"last ":"")+"gray"+n,attrs:{to:e.url,exact:""}},[a("span",[t._v(t._s(e.label))])])})):t._e()},[],!1,r,"data-v-2e2fba46",null);e.a=l.exports},222:function(t,e,a){"use strict";const{capitalize:n}=a(21);var s={props:{},data:()=>({isOpen:!1,searchTerm:""}),computed:{isMobile(){return this.$store.state.isMobile},isDev(){return this.$store.state.viewingAsDev},currentShowablePosts(){return this.$store.state.currentShowablePosts},locations(){return this.$store.state.locations.map(t=>t.toLowerCase()).filter(t=>-1!==t.indexOf(this.searchTerm.toLowerCase())).sort((t,e)=>t>e?1:-1)},tags(){return this.$store.state.tags.filter(t=>-1!==t.indexOf(this.searchTerm.toLowerCase())).sort((t,e)=>t>e?1:-1)},orderedCities(){const t={};return this.currentShowablePosts.forEach(e=>{const a=e.city.toLowerCase();t[a]=(t[a]||0)+1}),Object.keys(t).map(e=>({label:e,count:t[e]})).filter(t=>-1!==t.label.indexOf(this.searchTerm.toLowerCase())).sort((t,e)=>t.label>e.label?1:-1)},orderedCategories(){const t={};return this.currentShowablePosts.forEach(e=>{const a=e.category.toLowerCase();t[a]=(t[a]||0)+1}),Object.keys(t).map(e=>({label:e,count:t[e]})).filter(t=>-1!==t.label.indexOf(this.searchTerm.toLowerCase())).sort((e,a)=>t[a.label]-t[e.label])}},methods:{capitalize:n,open(){this.isOpen=!0,window.addEventListener("mousedown",this.checkForClose)},checkForClose(t){(t.path||t.composedPath&&t.composedPath()).includes(this.$el)||this.close()},close(){this.searchTerm="",window.removeEventListener("mousedown",this.checkForClose),this.isOpen=!1}}},i=a(1);var o=function(t){a(226)},r=Object(i.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isMobile?t._e():a("div",{staticClass:"searchholder content-top-full",class:{open:t.isOpen}},[a("svg",{attrs:{width:"135px",height:"135px",viewBox:"0 0 135 135",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[a("g",{attrs:{fill:"none",transform:"translate(11.000000, 11.000000)",stroke:"#979797","stroke-width":"14"}},[a("circle",{attrs:{id:"Oval",cx:"42",cy:"42",r:"42"}}),t._v(" "),a("path",{attrs:{d:"M73.5761719,73.5761719 L107.720703,107.720703",id:"Line","stroke-linecap":"square"}})])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],staticClass:"searchinput",class:{open:t.isOpen},attrs:{placeholder:"Search for a City, Place, or Category..."},domProps:{value:t.searchTerm},on:{focus:t.open,input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}}),t._v(" "),t.isOpen?a("div",{staticClass:"closebutton",on:{click:t.close}},[a("div",[t._v("✕")])]):t._e(),t._v(" "),t.isOpen?a("div",{staticClass:"megalist"},[t.orderedCategories.length?a("div",{staticClass:"listsectionlabel"},[t._v("Category")]):t._e(),t._v(" "),t._l(t.orderedCategories,function(e,n){return a("div",{key:"cat"+n,staticClass:"listentry"},[a("nuxt-link",{staticClass:"listlink",attrs:{to:"/is/"+e.label}},[t._v("\n        "+t._s(t.capitalize(e.label))+"\n        "),a("span",{staticClass:"sub"},[a("span",{staticClass:"sub"},[t._v(t._s(e.count))])])])],1)}),t._v(" "),t.orderedCities.length?a("div",{staticClass:"listsectionlabel"},[t._v("City")]):t._e(),t._v(" "),t._l(t.orderedCities,function(e,n){return a("div",{key:"cit"+n,staticClass:"listentry"},[a("nuxt-link",{staticClass:"listlink",attrs:{to:"/"+e.label.replace(/\//g,"%2F")}},[t._v("\n        "+t._s(t.capitalize(e.label))+"\n        "),a("span",{staticClass:"sub"},[a("span",{staticClass:"sub"},[t._v(t._s(e.count))])])])],1)}),t._v(" "),""!==t.searchTerm?[t.tags.length?a("div",{staticClass:"listsectionlabel"},[t._v("Tag")]):t._e(),t._v(" "),t._l(t.tags,function(e,n){return a("div",{key:"tag"+n,staticClass:"listentry"},[a("nuxt-link",{staticClass:"listlink",attrs:{to:"/tag/"+e.replace(/\//g,"%2F")}},[t._v(t._s(t.capitalize(e)))])],1)}),t._v(" "),t.locations.length?a("div",{staticClass:"listsectionlabel"},[t._v("Place")]):t._e(),t._v(" "),t._l(t.locations,function(e,n){return a("div",{key:"loc"+n,staticClass:"listentry"},[a("nuxt-link",{staticClass:"listlink",attrs:{to:"/at/"+e.replace(/\//g,"%2F")}},[t._v(t._s(t.capitalize(e)))])],1)})]:t._e(),t._v(" "),t.locations.length||t.orderedCities.length||t.orderedCategories.length?t._e():a("div",{staticClass:"listsectionlabel"},[t._v("No results found.")])],2):t._e()])},[],!1,o,"data-v-f9f3dbd2",null);e.a=r.exports},226:function(t,e,a){var n=a(227);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(5).default)("43685af0",n,!0,{})},227:function(t,e,a){(t.exports=a(4)(!1)).push([t.i,'\n.searchholder[data-v-f9f3dbd2] {\n  position: relative;\n  z-index: 4;\n  background: #faf9f8;\n  padding-top: 0;\n  padding-bottom: 0;\n  height: 48px;\n  color: #1f1f1f;\n  transition: all 0.2s;\n  border-bottom: 1px solid rgba(224, 223, 214, 0.3);\n}\n.searchholder[data-v-f9f3dbd2]:after {\n    content: \'\';\n    position: absolute;\n    pointer-events: none;\n    top: 77%;\n    left: 48px;\n    right: 48px;\n    height: 2px;\n    background: rgba(31, 31, 31, 0.1);\n    transform-origin: left;\n    transform: scale(0, 1);\n    opacity: 0;\n    transition: all 0.4s;\n}\n.searchholder[data-v-f9f3dbd2]:hover, .searchholder.open[data-v-f9f3dbd2] {\n    top: 0;\n    background: #f4f3ee;\n    border-bottom: 1px solid transparent;\n}\n.searchholder[data-v-f9f3dbd2]:hover:after, .searchholder.open[data-v-f9f3dbd2]:after {\n      opacity: 1;\n      transform: scale(1, 1);\n}\n.searchholder svg[data-v-f9f3dbd2] {\n    position: relative;\n    top: 50%;\n    transform: translateY(-50%);\n    opacity: 0.3;\n    width: 18px;\n    height: 18px;\n}\n.searchholder svg g[data-v-f9f3dbd2] {\n      stroke: #1f1f1f;\n}\n.searchholder.open[data-v-f9f3dbd2] {\n    background: rgba(31, 31, 31, 0.97);\n    color: white;\n    height: 96px;\n    border-bottom: none;\n}\n.searchholder.open[data-v-f9f3dbd2]:after {\n      background: rgba(255, 255, 255, 0.3) !important;\n}\n.searchholder.open svg[data-v-f9f3dbd2] {\n      opacity: 0.7;\n}\n.searchholder.open svg g[data-v-f9f3dbd2] {\n        stroke: white;\n}\n.searchholder.open .closebutton[data-v-f9f3dbd2] {\n      position: absolute;\n      color: white;\n      opacity: 0.6;\n      line-height: 1;\n      padding: 10px 30px;\n      display: flex;\n      align-items: center;\n      top: 0;\n      right: 24px;\n      bottom: 0;\n      transition: all 0.2s;\n}\n.searchholder.open .closebutton[data-v-f9f3dbd2]:hover {\n        cursor: pointer;\n        opacity: 1;\n}\n.searchholder .searchinput[data-v-f9f3dbd2] {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    outline: none;\n    padding: 0 0 0 84px;\n    margin: 0;\n    color: rgba(31, 31, 31, 0.7);\n    font-family: "Raleway", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n    font-size: 0.9rem;\n    border: none;\n    transition: all 0.2s;\n    cursor: pointer;\n    background: transparent;\n}\n.searchholder .searchinput.open[data-v-f9f3dbd2] {\n      color: white;\n      font-size: 1.5rem;\n      line-height: 1;\n}\n.searchholder .megalist[data-v-f9f3dbd2] {\n    position: absolute;\n    top: 100%;\n    left: 0;\n    width: 100%;\n    background: rgba(31, 31, 31, 0.97);\n    color: rgba(255, 255, 255, 0.7);\n    padding: 0 0 72px 0;\n    overflow-y: auto;\n}\n.searchholder .megalist .listsectionlabel[data-v-f9f3dbd2] {\n      text-transform: uppercase;\n      font-weight: 700;\n      font-size: 0.8em;\n      opacity: 1;\n      color: white;\n      margin: 24px 0 6px 0;\n      padding: 0 24px 0 48px;\n}\n.searchholder .megalist .listlink[data-v-f9f3dbd2] {\n      display: block;\n      color: rgba(255, 255, 255, 0.7);\n      text-decoration: none;\n      padding: 4px 24px 4px 96px;\n      transition: all 0.2s;\n}\n.searchholder .megalist .listlink[data-v-f9f3dbd2]:hover {\n        color: #00adcc;\n        background: rgba(255, 255, 255, 0.05);\n}\n.content-top-full[data-v-f9f3dbd2]:first-of-type {\n  height: 72px;\n}\n',""])},231:function(t,e,a){"use strict";var n=a(210),s=a(70),i=a(21),o={props:["city","current"],data:()=>({allCityPosts:[]}),computed:{userLanguage(){return this.$store.state.language},posts(){return this.$store.state.currentShowablePosts},postsToDisplay(){const t=[];for(let e of this.allCityPosts)if(this.current!==e.slug&&(e.languages[this.userLanguage]||e.languages.en)&&t.push(e),t.length===this.relatedPostCount)return t;return t},relatedPostCount(){return this.$store.state.isMobile?2:3}},mounted(){this.city&&(this.allCityPosts=this.posts.filter(t=>t.city===this.city.toLowerCase()&&!0===t.public[this.userLanguage]))},methods:{capitalize:i.capitalize}},r=a(1);var l=function(t){a(268)},c=Object(r.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.postsToDisplay.length>0?a("div",{staticClass:"relatedposts"},[a("div",{staticClass:"sectionhead"},[t._v("\n    More posts from\n    "),a("nuxt-link",{staticClass:"citylink",attrs:{to:"/"+t.city}},[t._v("\n      "+t._s(t.capitalize(t.city))+"\n    ")])],1),t._v(" "),a("div",{staticClass:"postgrid"},t._l(t.postsToDisplay,function(e,n){return a("nuxt-link",{key:n,staticClass:"relatedpost",attrs:{to:e.url}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.image,expression:"post.image",arg:"background-image"}],staticClass:"relatedimage"}),t._v(" "),a("div",[t._v(t._s("ja"===t.userLanguage&&e.jaTitle&&!0===e.public.ja&&e.jaTitle||e.title))])])}))]):t._e()},[],!1,l,"data-v-006f6650",null).exports,d=a(219),h=a(222),g=a(106),p={props:["tags"],methods:{capitalize:i.capitalize}};var u=function(t){a(270)},f=Object(r.a)(p,function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.tags&&t.tags.length>0?a("div",{staticClass:"tags sub"},t._l(t.tags,function(e){return a("nuxt-link",{key:e,staticClass:"tag",attrs:{to:"/tag/"+e}},[t._v("#"+t._s(e))])})):t._e()},[],!1,u,"data-v-4d5ef097",null).exports;const{capitalize:v}=a(21);var m={props:["title","content","category","mapPosition","city","date","loading","slug","description","publicPath","image","displayLanguage","polygons","public","preview","tags","languages"],components:{ContentFooter:n.a,RelatedArticles:c,PostDetails:s.a,Breadcrumb:d.a,SearchSelector:h.a,LoaderIcon:g.a,Tags:f},data:()=>({switchingPostLanguage:!1}),computed:{isDev(){return this.$store.state.viewingAsDev},isMobile(){return this.$store.state.isMobile},userLanguage(){return this.$store.state.language},onlyShowLanguage(){return this.$store.state.onlyShowLanguage},currentShowablePosts(){return this.$store.state.currentShowablePosts},allPosts(){return this.$store.state.allPosts},contentToDisplay(){if(!this.content||0===this.content.length)return"";const t=this.highlightLocationText();return this.$nextTick(this.addImageInteraction),this.$nextTick(this.addMapMoveOnHighlightTextHover),t}},created(){this.onlyShowLanguage&&this.onlyShowLanguage!==this.displayLanguage&&this.languages[this.onlyShowLanguage]?this.switchLanguage():this.userLanguage!==this.displayLanguage&&this.languages[this.userLanguage]&&!this.isDev?this.switchLanguage():this.content&&0!==this.content.length&&(this.isDev||this.languages[this.displayLanguage])||this.switchLanguage()},mounted(){this.switchingPostLanguage||(this.resetView(),this.$store.commit("setHighlight",this.polygons?Array.isArray(this.mapPosition)?[...this.mapPosition,...this.polygons]:[this.mapPosition,...this.polygons]:this.mapPosition),this.$nextTick(()=>{this.$el.scrollTop=0,this.$el.parentNode.scrollTop=0,document.querySelector("body").scrollTop=0,window.scrollTo(0,0)}),this.$nextTick(()=>{this.public[this.displayLanguage]||this.isDev||!this.preview||this.$store.commit("setMapMarkers",this.allPosts)}))},beforeDestroy(){this.public[this.displayLanguage]||this.isDev||!this.preview||this.$store.commit("setMapMarkers",this.currentShowablePosts),this.$store.commit("setHighlight"),this.$store.commit("setViewPolygons")},methods:{capitalize:v,doubleHighlight(t){this.$store.commit("setHighlight",t)},unDoubleHighlight(){this.$store.commit("setHighlight")},switchLanguage(){this.switchingPostLanguage=!0;const t="en"===this.displayLanguage?"ja":"en";"en"===t&&this.languages.en?(this.$store.dispatch("setOnlyShowLanguage"),this.$router.replace(this.publicPath.replace("/ja",""))):"ja"===t&&this.languages.ja&&this.$router.replace(this.publicPath.replace("/ja/","/").replace(/(\/?[^\/]+\/)(.*)/g,(t,e,a)=>e+"ja/"+a))},resetView(){this.$store.commit("setView",this.mapPosition),this.$store.commit("setViewPolygons",this.polygons),this.$store.commit("setCity",this.city),this.$store.commit("setPan",!1)},highlightLocationText(){if(!this.mapPosition&&!this.polygons||!Array.isArray(this.mapPosition)&&!this.polygons||1===this.mapPosition.length&&!this.polygons||this.isMobile)return this.content;let t=this.content.replace(/&amp;/g,"&");return(this.polygons?[...this.mapPosition,...this.polygons]:this.mapPosition).map(t=>t.location).forEach(e=>{if(e.length<4)return;e=e.replace("’","'");const a=new RegExp(`[s\n >]${e}`,"gi");t=t.replace(a,t=>t.replace(new RegExp(`${e}`,"gi"),`<span class="highlight">${e}</span>`))}),t},addMapMoveOnHighlightTextHover(){if(!this.mapPosition&&!this.polygons||!Array.isArray(this.mapPosition)&&!this.polygons||1===this.mapPosition.length&&!this.polygons||this.isMobile||!this.$refs||!this.$refs.postcontent)return;const t=this.polygons?[...this.mapPosition,...this.polygons]:this.mapPosition;this.$refs.postcontent.querySelectorAll(".highlight").forEach(e=>{const a=e.innerHTML.toLowerCase().replace("&amp;","&"),n=t.find(t=>t.location&&a===t.location.toLowerCase());n&&(e.addEventListener("mouseover",()=>{this.doubleHighlight(n.location),n.coordinates?(this.$store.commit("setView"),this.$store.commit("setViewPolygons",[n])):this.$store.commit("setView",n)}),e.addEventListener("mouseout",this.unDoubleHighlight))})},addImageInteraction(){this.$el&&this.$refs.postcontent.querySelectorAll("img").forEach(t=>{t.addEventListener("click",()=>this.$store.commit("setLightboxSrc",t.getAttribute("src")))})}}};var b=function(t){a(266)},y=Object(r.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content"},[t.isDev&&t.languages.ja&&t.languages.en?a("div",{staticClass:"japanese-available content-top-full ja"},["ja"!==t.displayLanguage?[a("span",[t._v("Showing the English version.")]),t._v(" "),a("span",{staticClass:"button invert",on:{click:function(e){t.switchLanguage()}}},[t._v("Switch")])]:[a("span",[t._v("Showing the Japanese version.")]),t._v(" "),a("span",{staticClass:"button invert",on:{click:function(e){t.switchLanguage()}}},[t._v("Switch")])]],2):t._e(),t._v(" "),a("Breadcrumb",{attrs:{title:t.title}}),t._v(" "),a("h1",{class:{ja:"ja"===t.displayLanguage},on:{click:t.resetView}},[t._v(t._s(t.title))]),t._v(" "),a("PostDetails",{staticClass:"details",attrs:{category:t.category,mapPosition:t.mapPosition,city:t.city,date:t.date}}),t._v(" "),a("Tags",{attrs:{tags:t.tags}}),t._v(" "),t.loading?a("LoaderIcon",{attrs:{active:t.loading,absolute:!1}}):t._e(),t._v(" "),a("article",{directives:[{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img[data-src]",preLoad:2},expression:"{\n      selector: 'img[data-src]',\n      preLoad: 2, // screen heights away to start loading\n    }"}],ref:"postcontent",staticClass:"markdown",class:{ja:"ja"===t.displayLanguage},domProps:{innerHTML:t._s(t.contentToDisplay)}}),t._v(" "),a("RelatedArticles",{attrs:{city:t.city,current:t.slug}}),t._v(" "),a("ContentFooter")],1)},[],!1,b,"data-v-53189ecd",null);e.a=y.exports},266:function(t,e,a){var n=a(267);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(5).default)("4ef7596e",n,!0,{})},267:function(t,e,a){(t.exports=a(4)(!1)).push([t.i,"\nh1[data-v-53189ecd] {\n  margin-bottom: 12px;\n}\n.japanese-available[data-v-53189ecd] {\n  background: #00adcc;\n  color: white;\n  text-align: center;\n}\n@media (max-width: 768px) {\n.japanese-available[data-v-53189ecd] {\n      margin-bottom: 18px;\n}\n}\n.markdown[data-v-53189ecd] {\n  min-height: 30vh;\n}\n@media (max-width: 768px) {\n.details[data-v-53189ecd] {\n    margin-top: 0;\n}\n}\n",""])},268:function(t,e,a){var n=a(269);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(5).default)("7502e271",n,!0,{})},269:function(t,e,a){(t.exports=a(4)(!1)).push([t.i,"\n.relatedposts[data-v-006f6650] {\n  margin-bottom: 60px;\n}\n.citylink[data-v-006f6650] {\n  text-decoration: none;\n}\n.citylink[data-v-006f6650]:hover {\n    text-decoration: underline;\n}\n.postgrid[data-v-006f6650] {\n  display: flex;\n}\n@media (max-width: 768px) {\n.postgrid[data-v-006f6650] {\n      display: grid;\n}\n}\n.relatedpost[data-v-006f6650] {\n  flex: 1;\n  display: block;\n  height: 100%;\n  text-decoration: none;\n  color: #1f1f1f;\n}\n.relatedpost[data-v-006f6650]:hover {\n    color: #00adcc;\n}\n.relatedpost[data-v-006f6650]:not(:last-of-type) {\n    margin-right: 24px;\n}\n@media (max-width: 768px) {\n.relatedpost[data-v-006f6650] {\n      margin-bottom: 30px;\n      text-align: center;\n      text-decoration: underline;\n}\n.relatedpost[data-v-006f6650]:not(:last-of-type) {\n        margin-right: 0;\n}\n}\n.relatedpost[data-v-006f6650]:hover {\n    text-decoration: underline;\n}\n.relatedpost .relatedimage[data-v-006f6650] {\n    background-size: cover;\n    height: 180px;\n    margin-bottom: 12px;\n}\n",""])},270:function(t,e,a){var n=a(271);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(5).default)("0856142c",n,!0,{})},271:function(t,e,a){(t.exports=a(4)(!1)).push([t.i,"\n.tags[data-v-4d5ef097] {\n  position: relative;\n  top: -12px;\n}\n.sub[data-v-4d5ef097] {\n  opacity: 1;\n}\n.tag[data-v-4d5ef097] {\n  margin-right: 6px;\n  color: #00adcc !important;\n}\n.tag[data-v-4d5ef097]:hover {\n    text-decoration: underline;\n}\n",""])}}]);